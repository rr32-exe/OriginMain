---
// Product Grid Component
// Props: products, columns, articleId
import ProductCard from './ProductCard.astro';

const { 
  products, 
  columns = 3,
  articleId = null,
  title = null,
  showDescription = true 
} = Astro.props;

if (!products || products.length === 0) {
  return null;
}

const gridClass = {
  2: 'md:grid-cols-2',
  3: 'md:grid-cols-3',
  4: 'md:grid-cols-4'
}[columns] || 'md:grid-cols-3';
---

<div class="product-grid-section my-8">
  {title && (
    <h2 class="text-3xl font-bold text-primary mb-6">{title}</h2>
  )}
  
  <div class={`grid grid-cols-1 ${gridClass} gap-6`}>
    {products.map(product => (
      <ProductCard 
        product={product} 
        showDescription={showDescription}
        articleId={articleId}
      />
    ))}
  </div>
</div>

<style>
  .product-grid-section {
    animation: fadeInUp 0.6s ease-out;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
